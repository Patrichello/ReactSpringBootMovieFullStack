{"ast":null,"code":"var _jsxFileName = \"/Users/victoria/Documents/GitHub/ReactSpringBootMovieFullStack/FrontEnd/src/components/reviews/Reviews.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef } from 'react';\nimport api from '../../api/axiosConfig';\nimport { useParams } from 'react-router-dom';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport ReviewForm from '../reviewForm/ReviewForm';\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Reviews = ({\n  getMovieData,\n  movie,\n  reviews,\n  setReviews\n}) => {\n  _s();\n  const revText = useRef();\n  let params = useParams();\n  const movieId = params.movieId;\n  useEffect(() => {\n    getMovieData(movieId);\n  }, []);\n  const addReview = async e => {\n    e.preventDefault();\n    const rev = revText.current;\n    const addReview = async e => {\n      e.preventDefault();\n      const rev = revText.current;\n      try {\n        const response = await api.post(\"/api/v1/reviews\", {\n          reviewBody: rev.value,\n          imdbId: movieId\n        });\n        const updatedReview = {\n          body: rev.value\n        };\n        rev.value = \"\";\n        setReviews(prevReviews => [...prevReviews, updatedReview]);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Reviews\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mt-2\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: movie === null || movie === void 0 ? void 0 : movie.poster,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(ReviewForm, {\n                handleSubmit: addReview,\n                revText: revText,\n                labelText: \"Write a Review?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true), reviews === null || reviews === void 0 ? void 0 : reviews.map(r => {\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                children: r.body\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(Reviews, \"L0+7JVVxEHK4WjBKZTsRE7nQ5rY=\", false, function () {\n  return [useParams];\n});\n_c = Reviews;\nexport default Reviews;\nvar _c;\n$RefreshReg$(_c, \"Reviews\");","map":{"version":3,"names":["useEffect","useRef","api","useParams","Container","Row","Col","ReviewForm","React","jsxDEV","_jsxDEV","Fragment","_Fragment","Reviews","getMovieData","movie","reviews","setReviews","_s","revText","params","movieId","addReview","e","preventDefault","rev","current","response","post","reviewBody","value","imdbId","updatedReview","body","prevReviews","err","console","error","children","fileName","_jsxFileName","lineNumber","columnNumber","className","src","poster","alt","handleSubmit","labelText","map","r","_c","$RefreshReg$"],"sources":["/Users/victoria/Documents/GitHub/ReactSpringBootMovieFullStack/FrontEnd/src/components/reviews/Reviews.js"],"sourcesContent":["import {useEffect, useRef} from 'react';\nimport api from '../../api/axiosConfig';\nimport {useParams} from 'react-router-dom';\nimport {Container, Row, Col} from 'react-bootstrap';\nimport ReviewForm from '../reviewForm/ReviewForm';\n\nimport React from 'react'\n\nconst Reviews = ({getMovieData,movie,reviews,setReviews}) => {\n\n    const revText = useRef();\n    let params = useParams();\n    const movieId = params.movieId;\n\n    useEffect(()=>{\n        getMovieData(movieId);\n    },[]);\n\n    const addReview = async (e) =>{\n        e.preventDefault();\n\n        const rev = revText.current;\n        const addReview = async (e) => {\n            e.preventDefault();\n          \n            const rev = revText.current;\n          \n            try {\n              const response = await api.post(\"/api/v1/reviews\", { reviewBody: rev.value, imdbId: movieId });\n          \n              const updatedReview = { body: rev.value };\n          \n              rev.value = \"\";\n          \n              setReviews((prevReviews) => [...prevReviews, updatedReview]);\n            } catch (err) {\n              console.error(err);\n            }\n          }\n          \n\n\n\n    }\n\n  return (\n    <Container>\n        <Row>\n            <Col><h3>Reviews</h3></Col>\n        </Row>\n        <Row className=\"mt-2\">\n            <Col>\n                <img src={movie?.poster} alt=\"\" />\n            </Col>\n            <Col>\n                {\n                    <>\n                        <Row>\n                            <Col>\n                                <ReviewForm handleSubmit={addReview} revText={revText} labelText = \"Write a Review?\" />  \n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col>\n                                <hr />\n                            </Col>\n                        </Row>\n                    </>\n                }\n                {\n                    reviews?.map((r) => {\n                        return(\n                            <>\n                                <Row>\n                                    <Col>{r.body}</Col>\n                                </Row>\n                                <Row>\n                                    <Col>\n                                        <hr />\n                                    </Col>\n                                </Row>                                \n                            </>\n                        )\n                    })\n                }\n            </Col>\n        </Row>\n        <Row>\n            <Col>\n                <hr />\n            </Col>\n        </Row>        \n    </Container>\n  )\n}\n\nexport default Reviews"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}