{"ast":null,"code":"var _jsxFileName = \"/Users/victoria/Documents/GitHub/ReactSpringBootMovieFullStack/FrontEnd/src/components/reviews/Reviews.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef } from 'react';\nimport api from '../../api/axiosConfig';\nimport { useParams } from 'react-router-dom';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport ReviewForm from '../reviewForm/ReviewForm';\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Reviews = ({\n  getMovieData,\n  movie,\n  reviews,\n  setReviews\n}) => {\n  _s();\n  const revText = useRef();\n  let params = useParams();\n  const movieId = params.movieId;\n  useEffect(() => {\n    getMovieData(movieId);\n  }, []);\n  const addReview = async e => {\n    e.preventDefault();\n    console.log(reviews);\n    const rev = revText.current;\n    try {\n      const response = await api.post(\"/api/v1/reviews\", {\n        reviewBody: rev.value,\n        imdbId: movieId\n      });\n      if (Array.isArray(reviews)) {\n        const updatedReviews = [...reviews, {\n          body: rev.value\n        }];\n        rev.value = \"\";\n        setReviews(updatedReviews);\n      } else {\n        console.error('reviews is not an array:', reviews);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Reviews\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mt-2\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: movie === null || movie === void 0 ? void 0 : movie.poster,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(ReviewForm, {\n                handleSubmit: addReview,\n                revText: revText,\n                labelText: \"Write a Review?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true), reviews === null || reviews === void 0 ? void 0 : reviews.map(r => {\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                children: r.body\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(Reviews, \"L0+7JVVxEHK4WjBKZTsRE7nQ5rY=\", false, function () {\n  return [useParams];\n});\n_c = Reviews;\nexport default Reviews;\nvar _c;\n$RefreshReg$(_c, \"Reviews\");","map":{"version":3,"names":["useEffect","useRef","api","useParams","Container","Row","Col","ReviewForm","React","jsxDEV","_jsxDEV","Fragment","_Fragment","Reviews","getMovieData","movie","reviews","setReviews","_s","revText","params","movieId","addReview","e","preventDefault","console","log","rev","current","response","post","reviewBody","value","imdbId","Array","isArray","updatedReviews","body","error","err","children","fileName","_jsxFileName","lineNumber","columnNumber","className","src","poster","alt","handleSubmit","labelText","map","r","_c","$RefreshReg$"],"sources":["/Users/victoria/Documents/GitHub/ReactSpringBootMovieFullStack/FrontEnd/src/components/reviews/Reviews.js"],"sourcesContent":["import {useEffect, useRef} from 'react';\nimport api from '../../api/axiosConfig';\nimport {useParams} from 'react-router-dom';\nimport {Container, Row, Col} from 'react-bootstrap';\nimport ReviewForm from '../reviewForm/ReviewForm';\n\nimport React from 'react'\n\nconst Reviews = ({getMovieData,movie,reviews,setReviews}) => {\n\n    const revText = useRef();\n    let params = useParams();\n    const movieId = params.movieId;\n\n    useEffect(()=>{\n        getMovieData(movieId);\n    },[]);\n\n    const addReview = async (e) =>{\n        e.preventDefault();\n\n        console.log(reviews)\n\n        const rev = revText.current;\n\n        try\n        {\n            const response = await api.post(\"/api/v1/reviews\",{reviewBody:rev.value,imdbId:movieId});\n\n            if (Array.isArray(reviews)) {\n                const updatedReviews = [...reviews, { body: rev.value }];\n                rev.value = \"\";\n                setReviews(updatedReviews);\n              } else {\n                console.error('reviews is not an array:', reviews);\n              }\n        }\n        catch(err)\n        {\n            console.error(err);\n        }\n        \n\n\n\n    }\n\n  return (\n    <Container>\n        <Row>\n            <Col><h3>Reviews</h3></Col>\n        </Row>\n        <Row className=\"mt-2\">\n            <Col>\n                <img src={movie?.poster} alt=\"\" />\n            </Col>\n            <Col>\n                {\n                    <>\n                        <Row>\n                            <Col>\n                                <ReviewForm handleSubmit={addReview} revText={revText} labelText = \"Write a Review?\" />  \n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col>\n                                <hr />\n                            </Col>\n                        </Row>\n                    </>\n                }\n                {\n                    reviews?.map((r) => {\n                        return(\n                            <>\n                                <Row>\n                                    <Col>{r.body}</Col>\n                                </Row>\n                                <Row>\n                                    <Col>\n                                        <hr />\n                                    </Col>\n                                </Row>                                \n                            </>\n                        )\n                    })\n                }\n            </Col>\n        </Row>\n        <Row>\n            <Col>\n                <hr />\n            </Col>\n        </Row>        \n    </Container>\n  )\n}\n\nexport default Reviews"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}