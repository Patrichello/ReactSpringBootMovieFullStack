{"ast":null,"code":"var _jsxFileName = \"/Users/victoria/Documents/GitHub/ReactSpringBootMovieFullStack/FrontEnd/src/components/reviews/Reviews.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef } from 'react';\nimport api from '../../api/axiosConfig';\nimport { useParams } from 'react-router-dom';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport ReviewForm from '../reviewForm/ReviewForm';\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Reviews = ({\n  getMovieData,\n  movie,\n  reviews,\n  setReviews\n}) => {\n  _s();\n  const revText = useRef();\n  let params = useParams();\n  const movieId = params.movieId;\n  useEffect(() => {\n    getMovieData(movieId);\n  }, []);\n  const addReview = async e => {\n    e.preventDefault();\n    const rev = revText.current;\n    try {\n      const response = await api.post(\"/api/v1/reviews\", {\n        reviewBody: rev.value,\n        imdbId: movieId\n      });\n      const updatedReviews = [{\n        body: rev.value\n      }];\n      rev.value = \"\";\n      setReviews(updatedReviews);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Reviews\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mt-2\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: movie === null || movie === void 0 ? void 0 : movie.poster,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(ReviewForm, {\n                handleSubmit: addReview,\n                revText: revText,\n                labelText: \"Write a Review?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true), reviews === null || reviews === void 0 ? void 0 : reviews.map(r => {\n          return /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                children: r.body\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(Reviews, \"L0+7JVVxEHK4WjBKZTsRE7nQ5rY=\", false, function () {\n  return [useParams];\n});\n_c = Reviews;\nexport default Reviews;\nvar _c;\n$RefreshReg$(_c, \"Reviews\");","map":{"version":3,"names":["useEffect","useRef","api","useParams","Container","Row","Col","ReviewForm","React","jsxDEV","_jsxDEV","Fragment","_Fragment","Reviews","getMovieData","movie","reviews","setReviews","_s","revText","params","movieId","addReview","e","preventDefault","rev","current","response","post","reviewBody","value","imdbId","updatedReviews","body","err","console","error","children","fileName","_jsxFileName","lineNumber","columnNumber","className","src","poster","alt","handleSubmit","labelText","map","r","_c","$RefreshReg$"],"sources":["/Users/victoria/Documents/GitHub/ReactSpringBootMovieFullStack/FrontEnd/src/components/reviews/Reviews.js"],"sourcesContent":["import {useEffect, useRef} from 'react';\nimport api from '../../api/axiosConfig';\nimport {useParams} from 'react-router-dom';\nimport {Container, Row, Col} from 'react-bootstrap';\nimport ReviewForm from '../reviewForm/ReviewForm';\n\nimport React from 'react'\n\nconst Reviews = ({getMovieData,movie,reviews,setReviews}) => {\n\n    const revText = useRef();\n    let params = useParams();\n    const movieId = params.movieId;\n\n    useEffect(()=>{\n        getMovieData(movieId);\n    },[])\n\n    const addReview = async (e) =>{\n        e.preventDefault();\n\n        const rev = revText.current;\n\n        try\n        {\n            const response = await api.post(\"/api/v1/reviews\",{reviewBody:rev.value,imdbId:movieId});\n\n            const updatedReviews = [{body:rev.value}];\n    \n            rev.value = \"\";\n    \n            setReviews(updatedReviews);\n        }\n        catch(err)\n        {\n            console.error(err);\n        }\n        \n\n\n\n    }\n\n  return (\n    <Container>\n        <Row>\n            <Col><h3>Reviews</h3></Col>\n        </Row>\n        <Row className=\"mt-2\">\n            <Col>\n                <img src={movie?.poster} alt=\"\" />\n            </Col>\n            <Col>\n                {\n                    <>\n                        <Row>\n                            <Col>\n                                <ReviewForm handleSubmit={addReview} revText={revText} labelText = \"Write a Review?\" />  \n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col>\n                                <hr />\n                            </Col>\n                        </Row>\n                    </>\n                }\n                {\n                    reviews?.map((r) => {\n                        return(\n                            <>\n                                <Row>\n                                    <Col>{r.body}</Col>\n                                </Row>\n                                <Row>\n                                    <Col>\n                                        <hr />\n                                    </Col>\n                                </Row>                                \n                            </>\n                        )\n                    })\n                }\n            </Col>\n        </Row>\n        <Row>\n            <Col>\n                <hr />\n            </Col>\n        </Row>        \n    </Container>\n  )\n}\n\nexport default Reviews"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}